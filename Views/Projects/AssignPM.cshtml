
@model BugSpy.Models.ViewModels.AssignPMViewModel

@{
    ViewData["Title"] = "Assign Project Manager";
}
<div class="d-flex justify-content-center mt-5 flex-column align-items-center">
    <h3 class="my-5">Assign Project Manager</h3>
    <div class="box dark">
        <div class="card-header">
            <div class="card-title">@Model.Project?.Name</div>
        </div>
        <div class="box dark ">


@*            <button data-bs-toggle="modal" data-bs-target="#CreateInviteModal" type="submit" class="btn btn-primary w-full p-4 mt-3">Create Invite</button>*@




           
         

                <button data-bs-toggle="modal" data-bs-target="#ProjectManagerModal" type="submit" class="btn btn-primary w-full p-4 mt-3">Assign Project Manager</button>




            <a asp-controller="Projects" asp-action="ActiveProjectsCardIndex" class="btn w-full mt-3 btn-secondary">Cancel</a>


            
        </div>
    </div>
</div>





@*                    <div class="d-flex justify-content-center mt-5 flex-column align-items-center">
    <h3 class="my-5">Assign Project Members</h3>
    <div class="box dark">
        <div class="card-header">
            <div class="card-title">@Model.Project?.Name</div>
        </div>
        <div class="box dark ">
 





              
      
        </div>
    </div>
</div>*@



<div id="ProjectManagerModal" class=" modal hide fade" data-keyboard="false" data-backdrop="static" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body p-0">
                <div class="p-5 text-center">
                    <i data-feather="user-plus" class="w-16 h-16 text-theme-9 mx-auto mt-3"></i>
                    <div class="fs-3xl mt-5">Assign Project Manager to @Model.Project.Name</div>
                    <div class="text-gray-600 mt-2">
                        please select a project manager
                        <br>

                    </div>
                </div>
                <div class="px-5 pb-8 text-center">
              @*      <button type="button" data-bs-dismiss="modal" class="btn btn-outline-secondary w-24 me-1">Cancel</button>*@
                    <div class="box dark ">
                        <form asp-action="AssignPM" method="post" class="d-flex flex-column">
                            <input type="hidden" asp-for="Project!.Id" />

                            <div class="mt-3">

                                <select asp-for="PMId" class="form-control" asp-items="Model.PMList">
                                    <option value="">Unassigned</option>
                                </select>

                                <span asp-validation-for="PMId" class="text-danger"></span>
                            </div>






                            <button type="submit" class="btn mt-3 btn-primary mt-3 my-3">Save</button>
                            <button data-bs-dismiss="modal" class="btn ripple btn-secondary mt-3 pd-x-30">Cancel</button>
            
                        </form>
                    </div>
                    @*                    <a asp-controller="Projects" asp-action="DeleteConfirmed" asp-route-id="@project.Id" class="btn btn-danger w-24">Delete</a>*@
                    @*      <button type="button" class="btn btn-danger w-24">Delete</button>*@
                </div>
            </div>
        </div>
    </div>
</div>

                        @section Scripts {

    <script type="text/javascript">
        $(window).on('load', function () {
            $('#ProjectManagerModal').modal('show');
        });
    </script>
                        }